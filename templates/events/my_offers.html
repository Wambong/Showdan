{% extends "base.html" %}
{% load i18n %}
{% block title %}My Offers | Showdan{% endblock %}

{% block content %}
<div class="profile-detail-wrap mx-auto">

  <div class="d-flex align-items-center justify-content-between mb-3">
    <h2 class="mb-0">{% translate "My offers" %}</h2>
    <a class="btn btn-sm btn-outline-light" href="{% url 'events:list' %}">{% translate "Browse events" %}</a>
  </div>

  {% if threads %}
    <div class="list-group">
      {% for t in threads %}
        <a class="list-group-item list-group-item-action bg-transparent border-light text-white"
           href="{% url 'events:offer_thread' t.event.id %}">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <div class="fw-bold">{{ t.event.name }}</div>
              <div class="small text-white-50">
                {% translate "Created by" %} {{ t.event.created_by.first_name }} {{ t.event.created_by.last_name }}
                {% if t.event.is_locked %} • <span class="text-success fw-bold">{% translate "Locked" %}</span>{% endif %}
              </div>
              <div class="small text-white-50">
                {{ t.event.start_datetime|date:"d M Y • H:i" }} → {{ t.event.end_datetime|date:"d M Y • H:i" }}
              </div>
            </div>
            <div class="text-end">
              <div class="small text-white-50">{% translate "Open chat" %}</div>
              <div class="badge bg-primary">{% translate "Offers" %}</div>
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <div class="event-empty">
      <div class="text-white-50">{% translate "You have not sent any offers yet" %}.</div>
    </div>
  {% endif %}

</div>
{% endblock %}
