{% extends "base.html" %}
{% load i18n %}
{% block title %}Create Event | Showdan{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-9 col-lg-7 app-screen">
    <div class="d-flex align-items-center justify-content-between mb-3">
      <h2 class="mb-0">{% translate "Create event" %}</h2>
      <a class="btn btn-outline-secondary" href="{% url 'events:list' %}">{% translate "Back" %}</a>
    </div>

    <form method="post" class="card card-body shadow-sm">
      {% csrf_token %}

      <!-- Event name -->
      <div class="mb-3">
        <label for="id_name" class="form-label">{% translate "Event name" %}</label>
        {{ form.name }}
        {% if form.name.errors %}
          <div class="text-danger small mt-2">{{ form.name.errors }}</div>
        {% endif %}
      </div>

      <!-- Start / End datetime -->
      <div class="row g-3">
        <div class="col-md-6">
          <label for="id_start_datetime" class="form-label">{% translate "Start date & time" %}</label>
          {{ form.start_datetime }}
          {% if form.start_datetime.errors %}
            <div class="text-danger small mt-2">{{ form.start_datetime.errors }}</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label for="id_end_datetime" class="form-label">{% translate "End date & time" %}</label>
          {{ form.end_datetime }}
          {% if form.end_datetime.errors %}
            <div class="text-danger small mt-2">{{ form.end_datetime.errors }}</div>
          {% endif %}
        </div>
      </div>

      {% if form.non_field_errors %}
        <div class="alert alert-danger mt-3 mb-0">
          {{ form.non_field_errors }}
        </div>
      {% endif %}
      <!-- country -->
      <div class="mt-3 mb-3">
        <label for="id_country" class="form-label">{% translate "country" %}</label>
        {{ form.country }}
        {% if form.country.errors %}
          <div class="text-danger small mt-2">{{ form.country.errors }}</div>
        {% endif %}
      </div>
            <!-- city -->
      <div class="mt-3 mb-3">
        <label for="id_city" class="form-label">{% translate "city" %}</label>
        {{ form.city }}
        {% if form.city.errors %}
          <div class="text-danger small mt-2">{{ form.city.errors }}</div>
        {% endif %}
      </div>
      <!-- Location -->
      <div class="mt-3 mb-3">
        <label for="id_location" class="form-label">{% translate "Location" %}</label>
        {{ form.location }}
        {% if form.location.errors %}
          <div class="text-danger small mt-2">{{ form.location.errors }}</div>
        {% endif %}
      </div>

      <!-- Created by (use request.user) -->
      <div class="event-meta mb-3">
        <span class="event-meta-dot">ðŸ‘¤</span>
        <span>
          {% translate "Created by" %}
          <strong class="text-white">
            {{ request.user.first_name }} {{ request.user.last_name }}
          </strong>
        </span>
      </div>

      <!-- Event type -->
      <div class="mb-3">
        <label for="id_event_type" class="form-label">{% translate "Event type" %}</label>
        {{ form.event_type }}
        {% if form.event_type.errors %}
          <div class="text-danger small mt-2">{{ form.event_type.errors }}</div>
        {% endif %}
        <div class="form-text">
          Need a new category? <a href="{% url 'events:category_create' %}">{% translate "Create one" %}</a>.
        </div>
      </div>

      <!-- Required professions -->
      <div class="mb-3">
        <label for="id_required_professions" class="form-label">{% translate "Required professions" %}</label>
        {{ form.required_professions }}
        {% if form.required_professions.errors %}
          <div class="text-danger small mt-2">{{ form.required_professions.errors }}</div>
        {% endif %}
        <div class="form-text">{% translate "Hold Ctrl (Windows) / Cmd (Mac) to select multiple." %}</div>
      </div>

      <!-- Currency -->
      <div class="mb-3">
        <label for="id_currency" class="form-label">{% translate "Currency" %}</label>
        {{ form.currency }}
        {% if form.currency.errors %}
          <div class="text-danger small mt-2">{{ form.currency.errors }}</div>
        {% endif %}
        <div class="form-text">{% translate "If not selected, it will default to your profile currency (if set)" %}.</div>
      </div>

      <!-- Budget -->
      <div class="row g-3">
        <div class="col-md-6">
          <label for="id_event_budget" class="form-label">{% translate "Event budget" %}</label>
          {{ form.event_budget }}
          {% if form.event_budget.errors %}
            <div class="text-danger small mt-2">{{ form.event_budget.errors }}</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label for="id_advance_payment" class="form-label">{% translate "Advance payment" %}</label>
          {{ form.advance_payment }}
          {% if form.advance_payment.errors %}
            <div class="text-danger small mt-2">{{ form.advance_payment.errors }}</div>
          {% endif %}
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100 mt-4">
        {% translate "Create event" %}
      </button>
    </form>
  </div>
</div>
{% endblock %}
